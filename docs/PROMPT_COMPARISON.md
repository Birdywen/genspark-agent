# 系统提示词改进对比

## 改进总览

| 改进项 | 优先级 | 影响 |
|--------|--------|------|
| 工具调用格式清晰化 | P0 | 减少AI对语法的误解 |
| ΩBATCH 完整说明 | P0 | 正确使用 when 条件 |
| 新对话首步优化 | P0 | 避免shell语法错误 |
| TODO 机制明确化 | P1 | 减少误判和过度使用 |
| 代码修改标准量化 | P1 | 更好的工具选择 |
| 错误处理指南 | P1 | 更专业的错误应对 |

## 关键改进

### 1. ΩBATCH when 条件

旧版：未说明语法
新版：明确使用 var 不是 variable，列出所有条件类型

### 2. 新对话首步

旧版：使用 <项目名> 占位符（shell会误解）
新版：提供实际示例，明确不用尖括号

### 3. TODO 判断

旧版：3个以上步骤（模糊）
新版：基于场景判断（用户清单、长期任务、复杂开发）

### 4. 代码修改

旧版：几行 vs 30%（模糊）
新版：1-20行 vs 20+行（明确）

## 文件位置

- 改进分析：SYSTEM_PROMPT_IMPROVEMENTS.md
- 新版提示词：IMPROVED_SYSTEM_PROMPT.js
- ΩBATCH文档：BATCH_EXECUTION.md
- 对比文档：本文件
